// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.28.0
// source: queries_psql.sql

package mdbp

import (
	"context"
	"database/sql"
)

const countRoute = `-- name: CountRoute :one
SELECT COUNT(*)
FROM routes
`

func (q *Queries) CountRoute(ctx context.Context) (int64, error) {
	row := q.db.QueryRowContext(ctx, countRoute)
	var count int64
	err := row.Scan(&count)
	return count, err
}

const countTables = `-- name: CountTables :one
SELECT COUNT(*)
FROM tables
`

func (q *Queries) CountTables(ctx context.Context) (int64, error) {
	row := q.db.QueryRowContext(ctx, countTables)
	var count int64
	err := row.Scan(&count)
	return count, err
}

const createRole = `-- name: CreateRole :one
INSERT INTO roles (
    label,
    permissions
) VALUES (
    $1, $2
)
RETURNING role_id, label, permissions
`

type CreateRoleParams struct {
	Label       string `json:"label"`
	Permissions string `json:"permissions"`
}

func (q *Queries) CreateRole(ctx context.Context, arg CreateRoleParams) (Roles, error) {
	row := q.db.QueryRowContext(ctx, createRole, arg.Label, arg.Permissions)
	var i Roles
	err := row.Scan(&i.RoleID, &i.Label, &i.Permissions)
	return i, err
}

const createRoute = `-- name: CreateRoute :one
INSERT INTO routes (
    author,
    author_id,
    slug,
    title,
    status,
    history,
    date_created,
    date_modified
) VALUES (
    $1, $2, $3, $4, $5, $6, $7, $8
)
RETURNING route_id, author, author_id, slug, title, status, history, date_created, date_modified
`

type CreateRouteParams struct {
	Author       string         `json:"author"`
	AuthorID     int32          `json:"author_id"`
	Slug         string         `json:"slug"`
	Title        string         `json:"title"`
	Status       int32          `json:"status"`
	History      sql.NullString `json:"history"`
	DateCreated  sql.NullString `json:"date_created"`
	DateModified sql.NullString `json:"date_modified"`
}

func (q *Queries) CreateRoute(ctx context.Context, arg CreateRouteParams) (Routes, error) {
	row := q.db.QueryRowContext(ctx, createRoute,
		arg.Author,
		arg.AuthorID,
		arg.Slug,
		arg.Title,
		arg.Status,
		arg.History,
		arg.DateCreated,
		arg.DateModified,
	)
	var i Routes
	err := row.Scan(
		&i.RouteID,
		&i.Author,
		&i.AuthorID,
		&i.Slug,
		&i.Title,
		&i.Status,
		&i.History,
		&i.DateCreated,
		&i.DateModified,
	)
	return i, err
}

const createTable = `-- name: CreateTable :one
INSERT INTO tables (
    label
) VALUES (
    $1
)
RETURNING id, label, author_id
`

func (q *Queries) CreateTable(ctx context.Context, label sql.NullString) (Tables, error) {
	row := q.db.QueryRowContext(ctx, createTable, label)
	var i Tables
	err := row.Scan(&i.ID, &i.Label, &i.AuthorID)
	return i, err
}

const deleteRole = `-- name: DeleteRole :exec
DELETE FROM roles
WHERE role_id = $1
`

func (q *Queries) DeleteRole(ctx context.Context, roleID int32) error {
	_, err := q.db.ExecContext(ctx, deleteRole, roleID)
	return err
}

const deleteRoute = `-- name: DeleteRoute :exec
DELETE FROM routes
WHERE slug = $1
`

func (q *Queries) DeleteRoute(ctx context.Context, slug string) error {
	_, err := q.db.ExecContext(ctx, deleteRoute, slug)
	return err
}

const deleteTable = `-- name: DeleteTable :exec
DELETE FROM tables
WHERE id = $1
`

func (q *Queries) DeleteTable(ctx context.Context, id int32) error {
	_, err := q.db.ExecContext(ctx, deleteTable, id)
	return err
}

const getRole = `-- name: GetRole :one
SELECT role_id, label, permissions FROM roles
WHERE role_id = $1
`

func (q *Queries) GetRole(ctx context.Context, roleID int32) (Roles, error) {
	row := q.db.QueryRowContext(ctx, getRole, roleID)
	var i Roles
	err := row.Scan(&i.RoleID, &i.Label, &i.Permissions)
	return i, err
}

const getRoute = `-- name: GetRoute :one
SELECT route_id, author, author_id, slug, title, status, history, date_created, date_modified FROM routes
WHERE slug = $1
LIMIT 1
`

func (q *Queries) GetRoute(ctx context.Context, slug string) (Routes, error) {
	row := q.db.QueryRowContext(ctx, getRoute, slug)
	var i Routes
	err := row.Scan(
		&i.RouteID,
		&i.Author,
		&i.AuthorID,
		&i.Slug,
		&i.Title,
		&i.Status,
		&i.History,
		&i.DateCreated,
		&i.DateModified,
	)
	return i, err
}

const getRouteId = `-- name: GetRouteId :one
SELECT route_id FROM routes
WHERE slug = $1
LIMIT 1
`

func (q *Queries) GetRouteId(ctx context.Context, slug string) (int32, error) {
	row := q.db.QueryRowContext(ctx, getRouteId, slug)
	var route_id int32
	err := row.Scan(&route_id)
	return route_id, err
}

const getTable = `-- name: GetTable :one
SELECT id, label, author_id FROM tables
WHERE id = $1
LIMIT 1
`

func (q *Queries) GetTable(ctx context.Context, id int32) (Tables, error) {
	row := q.db.QueryRowContext(ctx, getTable, id)
	var i Tables
	err := row.Scan(&i.ID, &i.Label, &i.AuthorID)
	return i, err
}

const getTableId = `-- name: GetTableId :one
SELECT id FROM tables
WHERE id = $1
LIMIT 1
`

func (q *Queries) GetTableId(ctx context.Context, id int32) (int32, error) {
	row := q.db.QueryRowContext(ctx, getTableId, id)
	err := row.Scan(&id)
	return id, err
}

const listRole = `-- name: ListRole :many
SELECT role_id, label, permissions FROM roles 
ORDER BY role_id
`

func (q *Queries) ListRole(ctx context.Context) ([]Roles, error) {
	rows, err := q.db.QueryContext(ctx, listRole)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Roles
	for rows.Next() {
		var i Roles
		if err := rows.Scan(&i.RoleID, &i.Label, &i.Permissions); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listRoute = `-- name: ListRoute :many
SELECT route_id, author, author_id, slug, title, status, history, date_created, date_modified FROM routes
ORDER BY slug
`

func (q *Queries) ListRoute(ctx context.Context) ([]Routes, error) {
	rows, err := q.db.QueryContext(ctx, listRoute)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Routes
	for rows.Next() {
		var i Routes
		if err := rows.Scan(
			&i.RouteID,
			&i.Author,
			&i.AuthorID,
			&i.Slug,
			&i.Title,
			&i.Status,
			&i.History,
			&i.DateCreated,
			&i.DateModified,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listTable = `-- name: ListTable :many
SELECT id, label, author_id FROM tables 
ORDER BY label
`

func (q *Queries) ListTable(ctx context.Context) ([]Tables, error) {
	rows, err := q.db.QueryContext(ctx, listTable)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []Tables
	for rows.Next() {
		var i Tables
		if err := rows.Scan(&i.ID, &i.Label, &i.AuthorID); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateRole = `-- name: UpdateRole :exec
UPDATE roles
SET label = $1,
    permissions = $2
WHERE role_id = $3
`

type UpdateRoleParams struct {
	Label       string `json:"label"`
	Permissions string `json:"permissions"`
	RoleID      int32  `json:"role_id"`
}

func (q *Queries) UpdateRole(ctx context.Context, arg UpdateRoleParams) error {
	_, err := q.db.ExecContext(ctx, updateRole, arg.Label, arg.Permissions, arg.RoleID)
	return err
}

const updateRoute = `-- name: UpdateRoute :exec
UPDATE routes
SET slug = $1,
    title = $2,
    status = $3,
    history = $4,
    author = $5,
    author_id = $6,
    date_created = $7,
    date_modified = $8
WHERE slug = $9
RETURNING route_id, author, author_id, slug, title, status, history, date_created, date_modified
`

type UpdateRouteParams struct {
	Slug         string         `json:"slug"`
	Title        string         `json:"title"`
	Status       int32          `json:"status"`
	History      sql.NullString `json:"history"`
	Author       string         `json:"author"`
	AuthorID     int32          `json:"author_id"`
	DateCreated  sql.NullString `json:"date_created"`
	DateModified sql.NullString `json:"date_modified"`
	Slug_2       string         `json:"slug_2"`
}

func (q *Queries) UpdateRoute(ctx context.Context, arg UpdateRouteParams) error {
	_, err := q.db.ExecContext(ctx, updateRoute,
		arg.Slug,
		arg.Title,
		arg.Status,
		arg.History,
		arg.Author,
		arg.AuthorID,
		arg.DateCreated,
		arg.DateModified,
		arg.Slug_2,
	)
	return err
}

const updateTable = `-- name: UpdateTable :exec
UPDATE tables
SET label = $1
WHERE id = $2
`

type UpdateTableParams struct {
	Label sql.NullString `json:"label"`
	ID    int32          `json:"id"`
}

func (q *Queries) UpdateTable(ctx context.Context, arg UpdateTableParams) error {
	_, err := q.db.ExecContext(ctx, updateTable, arg.Label, arg.ID)
	return err
}
