// Code generated by tools/dbgen; DO NOT EDIT.
package db

import (
	"context"
	"database/sql"
	"fmt"

	mdbm "github.com/hegner123/modulacms/internal/db-mysql"
	mdbp "github.com/hegner123/modulacms/internal/db-psql"
	mdb "github.com/hegner123/modulacms/internal/db-sqlite"
	"github.com/hegner123/modulacms/internal/db/audited"
	"github.com/hegner123/modulacms/internal/db/types"
)

///////////////////////////////
// STRUCTS
//////////////////////////////

// ContentFields represents a contentField record in the database.
type ContentFields struct {
	ContentFieldID types.ContentFieldID    `json:"content_field_id"`
	RouteID        types.NullableRouteID   `json:"route_id"`
	ContentDataID  types.NullableContentID `json:"content_data_id"`
	FieldID        types.NullableFieldID   `json:"field_id"`
	FieldValue     string                  `json:"field_value"`
	AuthorID       types.NullableUserID    `json:"author_id"`
	DateCreated    types.Timestamp         `json:"date_created"`
	DateModified   types.Timestamp         `json:"date_modified"`
}

// CreateContentFieldParams contains parameters for creating a new contentField.
type CreateContentFieldParams struct {
	RouteID       types.NullableRouteID   `json:"route_id"`
	ContentDataID types.NullableContentID `json:"content_data_id"`
	FieldID       types.NullableFieldID   `json:"field_id"`
	FieldValue    string                  `json:"field_value"`
	AuthorID      types.NullableUserID    `json:"author_id"`
	DateCreated   types.Timestamp         `json:"date_created"`
	DateModified  types.Timestamp         `json:"date_modified"`
}

// UpdateContentFieldParams contains parameters for updating an existing contentField.
type UpdateContentFieldParams struct {
	RouteID        types.NullableRouteID   `json:"route_id"`
	ContentDataID  types.NullableContentID `json:"content_data_id"`
	FieldID        types.NullableFieldID   `json:"field_id"`
	FieldValue     string                  `json:"field_value"`
	AuthorID       types.NullableUserID    `json:"author_id"`
	DateCreated    types.Timestamp         `json:"date_created"`
	DateModified   types.Timestamp         `json:"date_modified"`
	ContentFieldID types.ContentFieldID    `json:"content_field_id"`
}

// ListContentFieldsByRoutePaginatedParams holds parameters for a filtered paginated query.
type ListContentFieldsByRoutePaginatedParams struct {
	RouteID types.NullableRouteID
	Limit   int64
	Offset  int64
}

// ListContentFieldsByContentDataPaginatedParams holds parameters for a filtered paginated query.
type ListContentFieldsByContentDataPaginatedParams struct {
	ContentDataID types.NullableContentID
	Limit         int64
	Offset        int64
}

// MapStringContentField converts ContentFields to StringContentFields for TUI display.
func MapStringContentField(a ContentFields) StringContentFields {
	return StringContentFields{
		ContentFieldID: a.ContentFieldID.String(),
		RouteID:        a.RouteID.String(),
		ContentDataID:  a.ContentDataID.String(),
		FieldID:        a.FieldID.String(),
		FieldValue:     a.FieldValue,
		AuthorID:       a.AuthorID.String(),
		DateCreated:    a.DateCreated.String(),
		DateModified:   a.DateModified.String(),
		History:        "",
	}
}

///////////////////////////////
// SQLITE
//////////////////////////////

// MAPS

// MapContentField converts a sqlc-generated SQLite contentField to the wrapper type.
func (d Database) MapContentField(a mdb.ContentFields) ContentFields {
	return ContentFields{
		ContentFieldID: a.ContentFieldID,
		RouteID:        a.RouteID,
		ContentDataID:  a.ContentDataID,
		FieldID:        a.FieldID,
		FieldValue:     a.FieldValue,
		AuthorID:       a.AuthorID,
		DateCreated:    a.DateCreated,
		DateModified:   a.DateModified,
	}
}

// MapCreateContentFieldParams converts wrapper params to sqlc-generated SQLite params.
func (d Database) MapCreateContentFieldParams(a CreateContentFieldParams) mdb.CreateContentFieldParams {
	return mdb.CreateContentFieldParams{
		ContentFieldID: types.NewContentFieldID(),
		RouteID:        a.RouteID,
		ContentDataID:  a.ContentDataID,
		FieldID:        a.FieldID,
		FieldValue:     a.FieldValue,
		AuthorID:       a.AuthorID,
		DateCreated:    a.DateCreated,
		DateModified:   a.DateModified,
	}
}

// MapUpdateContentFieldParams converts wrapper params to sqlc-generated SQLite params.
func (d Database) MapUpdateContentFieldParams(a UpdateContentFieldParams) mdb.UpdateContentFieldParams {
	return mdb.UpdateContentFieldParams{
		RouteID:        a.RouteID,
		ContentDataID:  a.ContentDataID,
		FieldID:        a.FieldID,
		FieldValue:     a.FieldValue,
		AuthorID:       a.AuthorID,
		DateCreated:    a.DateCreated,
		DateModified:   a.DateModified,
		ContentFieldID: a.ContentFieldID,
	}
}

// QUERIES

// CountContentFields returns the total number of contentFields in the database.
func (d Database) CountContentFields() (*int64, error) {
	queries := mdb.New(d.Connection)
	c, err := queries.CountContentField(d.Context)
	if err != nil {
		return nil, fmt.Errorf("%v", err)
	}
	return &c, nil
}

// CreateContentFieldTable creates the content_fields table in the database.
func (d Database) CreateContentFieldTable() error {
	queries := mdb.New(d.Connection)
	err := queries.CreateContentFieldTable(d.Context)
	return err
}

// CreateContentField inserts a new contentField and records an audit event.
func (d Database) CreateContentField(ctx context.Context, ac audited.AuditContext, s CreateContentFieldParams) (*ContentFields, error) {
	cmd := d.NewContentFieldCmd(ctx, ac, s)
	result, err := audited.Create(cmd)
	if err != nil {
		return nil, fmt.Errorf("failed to create contentField: %w", err)
	}
	r := d.MapContentField(result)
	return &r, nil
}

// DeleteContentField removes a contentField and records an audit event.
func (d Database) DeleteContentField(ctx context.Context, ac audited.AuditContext, id types.ContentFieldID) error {
	cmd := d.DeleteContentFieldCmd(ctx, ac, id)
	return audited.Delete(cmd)
}

// GetContentField retrieves a contentField by ID.
func (d Database) GetContentField(id types.ContentFieldID) (*ContentFields, error) {
	queries := mdb.New(d.Connection)
	row, err := queries.GetContentField(d.Context, mdb.GetContentFieldParams{ContentFieldID: id})
	if err != nil {
		return nil, err
	}
	res := d.MapContentField(row)
	return &res, nil
}

// ListContentFields retrieves all contentFields in the database.
func (d Database) ListContentFields() (*[]ContentFields, error) {
	queries := mdb.New(d.Connection)
	rows, err := queries.ListContentFields(d.Context)
	if err != nil {
		return nil, fmt.Errorf("failed to get ContentFields: %v\n", err)
	}
	res := []ContentFields{}
	for _, v := range rows {
		m := d.MapContentField(v)
		res = append(res, m)
	}
	return &res, nil
}

// UpdateContentField modifies an existing contentField and records an audit event.
func (d Database) UpdateContentField(ctx context.Context, ac audited.AuditContext, s UpdateContentFieldParams) (*string, error) {
	cmd := d.UpdateContentFieldCmd(ctx, ac, s)
	if err := audited.Update(cmd); err != nil {
		return nil, fmt.Errorf("failed to update contentField: %w", err)
	}
	msg := fmt.Sprintf("Successfully updated %v\n", s.ContentFieldID)
	return &msg, nil
}

// ListContentFieldsByRoute retrieves contentFields by routeID.
func (d Database) ListContentFieldsByRoute(routeID types.NullableRouteID) (*[]ContentFields, error) {
	queries := mdb.New(d.Connection)
	rows, err := queries.ListContentFieldsByRoute(d.Context, mdb.ListContentFieldsByRouteParams{RouteID: routeID})
	if err != nil {
		return nil, fmt.Errorf("failed to get ContentFields by routeID: %v\n", err)
	}
	res := []ContentFields{}
	for _, v := range rows {
		m := d.MapContentField(v)
		res = append(res, m)
	}
	return &res, nil
}

// ListContentFieldsByContentData retrieves contentFields by contentDataID.
func (d Database) ListContentFieldsByContentData(contentDataID types.NullableContentID) (*[]ContentFields, error) {
	queries := mdb.New(d.Connection)
	rows, err := queries.ListContentFieldsByContentData(d.Context, mdb.ListContentFieldsByContentDataParams{ContentDataID: contentDataID})
	if err != nil {
		return nil, fmt.Errorf("failed to get ContentFields by contentDataID: %v\n", err)
	}
	res := []ContentFields{}
	for _, v := range rows {
		m := d.MapContentField(v)
		res = append(res, m)
	}
	return &res, nil
}

// ListContentFieldsByRoutePaginated retrieves a paginated list of contentFields filtered by RouteID.
func (d Database) ListContentFieldsByRoutePaginated(params ListContentFieldsByRoutePaginatedParams) (*[]ContentFields, error) {
	queries := mdb.New(d.Connection)
	rows, err := queries.ListContentFieldsByRoutePaginated(d.Context, mdb.ListContentFieldsByRoutePaginatedParams{
		RouteID: params.RouteID,
		Limit:   params.Limit,
		Offset:  params.Offset,
	})
	if err != nil {
		return nil, fmt.Errorf("failed to get ContentFields paginated: %v", err)
	}
	res := []ContentFields{}
	for _, v := range rows {
		m := d.MapContentField(v)
		res = append(res, m)
	}
	return &res, nil
}

// ListContentFieldsByContentDataPaginated retrieves a paginated list of contentFields filtered by ContentDataID.
func (d Database) ListContentFieldsByContentDataPaginated(params ListContentFieldsByContentDataPaginatedParams) (*[]ContentFields, error) {
	queries := mdb.New(d.Connection)
	rows, err := queries.ListContentFieldsByContentDataPaginated(d.Context, mdb.ListContentFieldsByContentDataPaginatedParams{
		ContentDataID: params.ContentDataID,
		Limit:         params.Limit,
		Offset:        params.Offset,
	})
	if err != nil {
		return nil, fmt.Errorf("failed to get ContentFields paginated: %v", err)
	}
	res := []ContentFields{}
	for _, v := range rows {
		m := d.MapContentField(v)
		res = append(res, m)
	}
	return &res, nil
}

///////////////////////////////
// MYSQL
//////////////////////////////

// MAPS

// MapContentField converts a sqlc-generated MySQL contentField to the wrapper type.
func (d MysqlDatabase) MapContentField(a mdbm.ContentFields) ContentFields {
	return ContentFields{
		ContentFieldID: a.ContentFieldID,
		RouteID:        a.RouteID,
		ContentDataID:  a.ContentDataID,
		FieldID:        a.FieldID,
		FieldValue:     a.FieldValue,
		AuthorID:       a.AuthorID,
		DateCreated:    a.DateCreated,
		DateModified:   a.DateModified,
	}
}

// MapCreateContentFieldParams converts wrapper params to sqlc-generated MySQL params.
func (d MysqlDatabase) MapCreateContentFieldParams(a CreateContentFieldParams) mdbm.CreateContentFieldParams {
	return mdbm.CreateContentFieldParams{
		ContentFieldID: types.NewContentFieldID(),
		RouteID:        a.RouteID,
		ContentDataID:  a.ContentDataID,
		FieldID:        a.FieldID,
		FieldValue:     a.FieldValue,
		AuthorID:       a.AuthorID,
		DateCreated:    a.DateCreated,
		DateModified:   a.DateModified,
	}
}

// MapUpdateContentFieldParams converts wrapper params to sqlc-generated MySQL params.
func (d MysqlDatabase) MapUpdateContentFieldParams(a UpdateContentFieldParams) mdbm.UpdateContentFieldParams {
	return mdbm.UpdateContentFieldParams{
		RouteID:        a.RouteID,
		ContentDataID:  a.ContentDataID,
		FieldID:        a.FieldID,
		FieldValue:     a.FieldValue,
		AuthorID:       a.AuthorID,
		DateCreated:    a.DateCreated,
		DateModified:   a.DateModified,
		ContentFieldID: a.ContentFieldID,
	}
}

// QUERIES

// CountContentFields returns the total number of contentFields in the database.
func (d MysqlDatabase) CountContentFields() (*int64, error) {
	queries := mdbm.New(d.Connection)
	c, err := queries.CountContentField(d.Context)
	if err != nil {
		return nil, fmt.Errorf("%v", err)
	}
	return &c, nil
}

// CreateContentFieldTable creates the content_fields table in the database.
func (d MysqlDatabase) CreateContentFieldTable() error {
	queries := mdbm.New(d.Connection)
	err := queries.CreateContentFieldTable(d.Context)
	return err
}

// CreateContentField inserts a new contentField and records an audit event.
func (d MysqlDatabase) CreateContentField(ctx context.Context, ac audited.AuditContext, s CreateContentFieldParams) (*ContentFields, error) {
	cmd := d.NewContentFieldCmd(ctx, ac, s)
	result, err := audited.Create(cmd)
	if err != nil {
		return nil, fmt.Errorf("failed to create contentField: %w", err)
	}
	r := d.MapContentField(result)
	return &r, nil
}

// DeleteContentField removes a contentField and records an audit event.
func (d MysqlDatabase) DeleteContentField(ctx context.Context, ac audited.AuditContext, id types.ContentFieldID) error {
	cmd := d.DeleteContentFieldCmd(ctx, ac, id)
	return audited.Delete(cmd)
}

// GetContentField retrieves a contentField by ID.
func (d MysqlDatabase) GetContentField(id types.ContentFieldID) (*ContentFields, error) {
	queries := mdbm.New(d.Connection)
	row, err := queries.GetContentField(d.Context, mdbm.GetContentFieldParams{ContentFieldID: id})
	if err != nil {
		return nil, err
	}
	res := d.MapContentField(row)
	return &res, nil
}

// ListContentFields retrieves all contentFields in the database.
func (d MysqlDatabase) ListContentFields() (*[]ContentFields, error) {
	queries := mdbm.New(d.Connection)
	rows, err := queries.ListContentFields(d.Context)
	if err != nil {
		return nil, fmt.Errorf("failed to get ContentFields: %v\n", err)
	}
	res := []ContentFields{}
	for _, v := range rows {
		m := d.MapContentField(v)
		res = append(res, m)
	}
	return &res, nil
}

// UpdateContentField modifies an existing contentField and records an audit event.
func (d MysqlDatabase) UpdateContentField(ctx context.Context, ac audited.AuditContext, s UpdateContentFieldParams) (*string, error) {
	cmd := d.UpdateContentFieldCmd(ctx, ac, s)
	if err := audited.Update(cmd); err != nil {
		return nil, fmt.Errorf("failed to update contentField: %w", err)
	}
	msg := fmt.Sprintf("Successfully updated %v\n", s.ContentFieldID)
	return &msg, nil
}

// ListContentFieldsByRoute retrieves contentFields by routeID.
func (d MysqlDatabase) ListContentFieldsByRoute(routeID types.NullableRouteID) (*[]ContentFields, error) {
	queries := mdbm.New(d.Connection)
	rows, err := queries.ListContentFieldsByRoute(d.Context, mdbm.ListContentFieldsByRouteParams{RouteID: routeID})
	if err != nil {
		return nil, fmt.Errorf("failed to get ContentFields by routeID: %v\n", err)
	}
	res := []ContentFields{}
	for _, v := range rows {
		m := d.MapContentField(v)
		res = append(res, m)
	}
	return &res, nil
}

// ListContentFieldsByContentData retrieves contentFields by contentDataID.
func (d MysqlDatabase) ListContentFieldsByContentData(contentDataID types.NullableContentID) (*[]ContentFields, error) {
	queries := mdbm.New(d.Connection)
	rows, err := queries.ListContentFieldsByContentData(d.Context, mdbm.ListContentFieldsByContentDataParams{ContentDataID: contentDataID})
	if err != nil {
		return nil, fmt.Errorf("failed to get ContentFields by contentDataID: %v\n", err)
	}
	res := []ContentFields{}
	for _, v := range rows {
		m := d.MapContentField(v)
		res = append(res, m)
	}
	return &res, nil
}

// ListContentFieldsByRoutePaginated retrieves a paginated list of contentFields filtered by RouteID.
func (d MysqlDatabase) ListContentFieldsByRoutePaginated(params ListContentFieldsByRoutePaginatedParams) (*[]ContentFields, error) {
	queries := mdbm.New(d.Connection)
	rows, err := queries.ListContentFieldsByRoutePaginated(d.Context, mdbm.ListContentFieldsByRoutePaginatedParams{
		RouteID: params.RouteID,
		Limit:   int32(params.Limit),
		Offset:  int32(params.Offset),
	})
	if err != nil {
		return nil, fmt.Errorf("failed to get ContentFields paginated: %v", err)
	}
	res := []ContentFields{}
	for _, v := range rows {
		m := d.MapContentField(v)
		res = append(res, m)
	}
	return &res, nil
}

// ListContentFieldsByContentDataPaginated retrieves a paginated list of contentFields filtered by ContentDataID.
func (d MysqlDatabase) ListContentFieldsByContentDataPaginated(params ListContentFieldsByContentDataPaginatedParams) (*[]ContentFields, error) {
	queries := mdbm.New(d.Connection)
	rows, err := queries.ListContentFieldsByContentDataPaginated(d.Context, mdbm.ListContentFieldsByContentDataPaginatedParams{
		ContentDataID: params.ContentDataID,
		Limit:         int32(params.Limit),
		Offset:        int32(params.Offset),
	})
	if err != nil {
		return nil, fmt.Errorf("failed to get ContentFields paginated: %v", err)
	}
	res := []ContentFields{}
	for _, v := range rows {
		m := d.MapContentField(v)
		res = append(res, m)
	}
	return &res, nil
}

///////////////////////////////
// POSTGRES
//////////////////////////////

// MAPS

// MapContentField converts a sqlc-generated PostgreSQL contentField to the wrapper type.
func (d PsqlDatabase) MapContentField(a mdbp.ContentFields) ContentFields {
	return ContentFields{
		ContentFieldID: a.ContentFieldID,
		RouteID:        a.RouteID,
		ContentDataID:  a.ContentDataID,
		FieldID:        a.FieldID,
		FieldValue:     a.FieldValue,
		AuthorID:       a.AuthorID,
		DateCreated:    a.DateCreated,
		DateModified:   a.DateModified,
	}
}

// MapCreateContentFieldParams converts wrapper params to sqlc-generated PostgreSQL params.
func (d PsqlDatabase) MapCreateContentFieldParams(a CreateContentFieldParams) mdbp.CreateContentFieldParams {
	return mdbp.CreateContentFieldParams{
		ContentFieldID: types.NewContentFieldID(),
		RouteID:        a.RouteID,
		ContentDataID:  a.ContentDataID,
		FieldID:        a.FieldID,
		FieldValue:     a.FieldValue,
		AuthorID:       a.AuthorID,
		DateCreated:    a.DateCreated,
		DateModified:   a.DateModified,
	}
}

// MapUpdateContentFieldParams converts wrapper params to sqlc-generated PostgreSQL params.
func (d PsqlDatabase) MapUpdateContentFieldParams(a UpdateContentFieldParams) mdbp.UpdateContentFieldParams {
	return mdbp.UpdateContentFieldParams{
		RouteID:        a.RouteID,
		ContentDataID:  a.ContentDataID,
		FieldID:        a.FieldID,
		FieldValue:     a.FieldValue,
		AuthorID:       a.AuthorID,
		DateCreated:    a.DateCreated,
		DateModified:   a.DateModified,
		ContentFieldID: a.ContentFieldID,
	}
}

// QUERIES

// CountContentFields returns the total number of contentFields in the database.
func (d PsqlDatabase) CountContentFields() (*int64, error) {
	queries := mdbp.New(d.Connection)
	c, err := queries.CountContentField(d.Context)
	if err != nil {
		return nil, fmt.Errorf("%v", err)
	}
	return &c, nil
}

// CreateContentFieldTable creates the content_fields table in the database.
func (d PsqlDatabase) CreateContentFieldTable() error {
	queries := mdbp.New(d.Connection)
	err := queries.CreateContentFieldTable(d.Context)
	return err
}

// CreateContentField inserts a new contentField and records an audit event.
func (d PsqlDatabase) CreateContentField(ctx context.Context, ac audited.AuditContext, s CreateContentFieldParams) (*ContentFields, error) {
	cmd := d.NewContentFieldCmd(ctx, ac, s)
	result, err := audited.Create(cmd)
	if err != nil {
		return nil, fmt.Errorf("failed to create contentField: %w", err)
	}
	r := d.MapContentField(result)
	return &r, nil
}

// DeleteContentField removes a contentField and records an audit event.
func (d PsqlDatabase) DeleteContentField(ctx context.Context, ac audited.AuditContext, id types.ContentFieldID) error {
	cmd := d.DeleteContentFieldCmd(ctx, ac, id)
	return audited.Delete(cmd)
}

// GetContentField retrieves a contentField by ID.
func (d PsqlDatabase) GetContentField(id types.ContentFieldID) (*ContentFields, error) {
	queries := mdbp.New(d.Connection)
	row, err := queries.GetContentField(d.Context, mdbp.GetContentFieldParams{ContentFieldID: id})
	if err != nil {
		return nil, err
	}
	res := d.MapContentField(row)
	return &res, nil
}

// ListContentFields retrieves all contentFields in the database.
func (d PsqlDatabase) ListContentFields() (*[]ContentFields, error) {
	queries := mdbp.New(d.Connection)
	rows, err := queries.ListContentFields(d.Context)
	if err != nil {
		return nil, fmt.Errorf("failed to get ContentFields: %v\n", err)
	}
	res := []ContentFields{}
	for _, v := range rows {
		m := d.MapContentField(v)
		res = append(res, m)
	}
	return &res, nil
}

// UpdateContentField modifies an existing contentField and records an audit event.
func (d PsqlDatabase) UpdateContentField(ctx context.Context, ac audited.AuditContext, s UpdateContentFieldParams) (*string, error) {
	cmd := d.UpdateContentFieldCmd(ctx, ac, s)
	if err := audited.Update(cmd); err != nil {
		return nil, fmt.Errorf("failed to update contentField: %w", err)
	}
	msg := fmt.Sprintf("Successfully updated %v\n", s.ContentFieldID)
	return &msg, nil
}

// ListContentFieldsByRoute retrieves contentFields by routeID.
func (d PsqlDatabase) ListContentFieldsByRoute(routeID types.NullableRouteID) (*[]ContentFields, error) {
	queries := mdbp.New(d.Connection)
	rows, err := queries.ListContentFieldsByRoute(d.Context, mdbp.ListContentFieldsByRouteParams{RouteID: routeID})
	if err != nil {
		return nil, fmt.Errorf("failed to get ContentFields by routeID: %v\n", err)
	}
	res := []ContentFields{}
	for _, v := range rows {
		m := d.MapContentField(v)
		res = append(res, m)
	}
	return &res, nil
}

// ListContentFieldsByContentData retrieves contentFields by contentDataID.
func (d PsqlDatabase) ListContentFieldsByContentData(contentDataID types.NullableContentID) (*[]ContentFields, error) {
	queries := mdbp.New(d.Connection)
	rows, err := queries.ListContentFieldsByContentData(d.Context, mdbp.ListContentFieldsByContentDataParams{ContentDataID: contentDataID})
	if err != nil {
		return nil, fmt.Errorf("failed to get ContentFields by contentDataID: %v\n", err)
	}
	res := []ContentFields{}
	for _, v := range rows {
		m := d.MapContentField(v)
		res = append(res, m)
	}
	return &res, nil
}

// ListContentFieldsByRoutePaginated retrieves a paginated list of contentFields filtered by RouteID.
func (d PsqlDatabase) ListContentFieldsByRoutePaginated(params ListContentFieldsByRoutePaginatedParams) (*[]ContentFields, error) {
	queries := mdbp.New(d.Connection)
	rows, err := queries.ListContentFieldsByRoutePaginated(d.Context, mdbp.ListContentFieldsByRoutePaginatedParams{
		RouteID: params.RouteID,
		Limit:   int32(params.Limit),
		Offset:  int32(params.Offset),
	})
	if err != nil {
		return nil, fmt.Errorf("failed to get ContentFields paginated: %v", err)
	}
	res := []ContentFields{}
	for _, v := range rows {
		m := d.MapContentField(v)
		res = append(res, m)
	}
	return &res, nil
}

// ListContentFieldsByContentDataPaginated retrieves a paginated list of contentFields filtered by ContentDataID.
func (d PsqlDatabase) ListContentFieldsByContentDataPaginated(params ListContentFieldsByContentDataPaginatedParams) (*[]ContentFields, error) {
	queries := mdbp.New(d.Connection)
	rows, err := queries.ListContentFieldsByContentDataPaginated(d.Context, mdbp.ListContentFieldsByContentDataPaginatedParams{
		ContentDataID: params.ContentDataID,
		Limit:         int32(params.Limit),
		Offset:        int32(params.Offset),
	})
	if err != nil {
		return nil, fmt.Errorf("failed to get ContentFields paginated: %v", err)
	}
	res := []ContentFields{}
	for _, v := range rows {
		m := d.MapContentField(v)
		res = append(res, m)
	}
	return &res, nil
}

// ========== AUDITED COMMAND TYPES ==========

// ----- SQLite CREATE -----

// NewContentFieldCmd is an audited command for creating contentFields.
type NewContentFieldCmd struct {
	ctx      context.Context
	auditCtx audited.AuditContext
	params   CreateContentFieldParams
	conn     *sql.DB
	recorder audited.ChangeEventRecorder
}

// Context returns the command context.
func (c NewContentFieldCmd) Context() context.Context { return c.ctx }

// AuditContext returns the audit context.
func (c NewContentFieldCmd) AuditContext() audited.AuditContext { return c.auditCtx }

// Connection returns the database connection.
func (c NewContentFieldCmd) Connection() *sql.DB { return c.conn }

// Recorder returns the change event recorder.
func (c NewContentFieldCmd) Recorder() audited.ChangeEventRecorder { return c.recorder }

// TableName returns the table name for this command.
func (c NewContentFieldCmd) TableName() string { return "content_fields" }

// Params returns the parameters for this command.
func (c NewContentFieldCmd) Params() any { return c.params }

// GetID extracts the ID from a contentField record.
func (c NewContentFieldCmd) GetID(u mdb.ContentFields) string { return string(u.ContentFieldID) }

// Execute creates the contentField in the database.
func (c NewContentFieldCmd) Execute(ctx context.Context, tx audited.DBTX) (mdb.ContentFields, error) {
	queries := mdb.New(tx)
	return queries.CreateContentField(ctx, mdb.CreateContentFieldParams{
		ContentFieldID: types.NewContentFieldID(),
		RouteID:        c.params.RouteID,
		ContentDataID:  c.params.ContentDataID,
		FieldID:        c.params.FieldID,
		FieldValue:     c.params.FieldValue,
		AuthorID:       c.params.AuthorID,
		DateCreated:    c.params.DateCreated,
		DateModified:   c.params.DateModified,
	})
}

// NewContentFieldCmd creates a command for inserting a contentField.
func (d Database) NewContentFieldCmd(ctx context.Context, auditCtx audited.AuditContext, params CreateContentFieldParams) NewContentFieldCmd {
	return NewContentFieldCmd{ctx: ctx, auditCtx: auditCtx, params: params, conn: d.Connection, recorder: SQLiteRecorder}
}

// ----- SQLite UPDATE -----

// UpdateContentFieldCmd is an audited command for updating contentFields.
type UpdateContentFieldCmd struct {
	ctx      context.Context
	auditCtx audited.AuditContext
	params   UpdateContentFieldParams
	conn     *sql.DB
	recorder audited.ChangeEventRecorder
}

// Context returns the command context.
func (c UpdateContentFieldCmd) Context() context.Context { return c.ctx }

// AuditContext returns the audit context.
func (c UpdateContentFieldCmd) AuditContext() audited.AuditContext { return c.auditCtx }

// Connection returns the database connection.
func (c UpdateContentFieldCmd) Connection() *sql.DB { return c.conn }

// Recorder returns the change event recorder.
func (c UpdateContentFieldCmd) Recorder() audited.ChangeEventRecorder { return c.recorder }

// TableName returns the table name for this command.
func (c UpdateContentFieldCmd) TableName() string { return "content_fields" }

// Params returns the parameters for this command.
func (c UpdateContentFieldCmd) Params() any { return c.params }

// GetID returns the contentField ID for this command.
func (c UpdateContentFieldCmd) GetID() string { return string(c.params.ContentFieldID) }

// GetBefore retrieves the contentField before the update.
func (c UpdateContentFieldCmd) GetBefore(ctx context.Context, tx audited.DBTX) (mdb.ContentFields, error) {
	queries := mdb.New(tx)
	return queries.GetContentField(ctx, mdb.GetContentFieldParams{ContentFieldID: c.params.ContentFieldID})
}

// Execute updates the contentField in the database.
func (c UpdateContentFieldCmd) Execute(ctx context.Context, tx audited.DBTX) error {
	queries := mdb.New(tx)
	return queries.UpdateContentField(ctx, mdb.UpdateContentFieldParams{
		RouteID:        c.params.RouteID,
		ContentDataID:  c.params.ContentDataID,
		FieldID:        c.params.FieldID,
		FieldValue:     c.params.FieldValue,
		AuthorID:       c.params.AuthorID,
		DateCreated:    c.params.DateCreated,
		DateModified:   c.params.DateModified,
		ContentFieldID: c.params.ContentFieldID,
	})
}

// UpdateContentFieldCmd creates a command for updating a contentField.
func (d Database) UpdateContentFieldCmd(ctx context.Context, auditCtx audited.AuditContext, params UpdateContentFieldParams) UpdateContentFieldCmd {
	return UpdateContentFieldCmd{ctx: ctx, auditCtx: auditCtx, params: params, conn: d.Connection, recorder: SQLiteRecorder}
}

// ----- SQLite DELETE -----

// DeleteContentFieldCmd is an audited command for deleting contentFields.
type DeleteContentFieldCmd struct {
	ctx      context.Context
	auditCtx audited.AuditContext
	id       types.ContentFieldID
	conn     *sql.DB
	recorder audited.ChangeEventRecorder
}

// Context returns the command context.
func (c DeleteContentFieldCmd) Context() context.Context { return c.ctx }

// AuditContext returns the audit context.
func (c DeleteContentFieldCmd) AuditContext() audited.AuditContext { return c.auditCtx }

// Connection returns the database connection.
func (c DeleteContentFieldCmd) Connection() *sql.DB { return c.conn }

// Recorder returns the change event recorder.
func (c DeleteContentFieldCmd) Recorder() audited.ChangeEventRecorder { return c.recorder }

// TableName returns the table name for this command.
func (c DeleteContentFieldCmd) TableName() string { return "content_fields" }

// GetID returns the contentField ID for this command.
func (c DeleteContentFieldCmd) GetID() string { return string(c.id) }

// GetBefore retrieves the contentField before the delete.
func (c DeleteContentFieldCmd) GetBefore(ctx context.Context, tx audited.DBTX) (mdb.ContentFields, error) {
	queries := mdb.New(tx)
	return queries.GetContentField(ctx, mdb.GetContentFieldParams{ContentFieldID: c.id})
}

// Execute deletes the contentField from the database.
func (c DeleteContentFieldCmd) Execute(ctx context.Context, tx audited.DBTX) error {
	queries := mdb.New(tx)
	return queries.DeleteContentField(ctx, mdb.DeleteContentFieldParams{ContentFieldID: c.id})
}

// DeleteContentFieldCmd creates a command for deleting a contentField.
func (d Database) DeleteContentFieldCmd(ctx context.Context, auditCtx audited.AuditContext, id types.ContentFieldID) DeleteContentFieldCmd {
	return DeleteContentFieldCmd{ctx: ctx, auditCtx: auditCtx, id: id, conn: d.Connection, recorder: SQLiteRecorder}
}

// ----- MySQL CREATE -----

// NewContentFieldCmdMysql is an audited command for creating contentFields in MySQL.
type NewContentFieldCmdMysql struct {
	ctx      context.Context
	auditCtx audited.AuditContext
	params   CreateContentFieldParams
	conn     *sql.DB
	recorder audited.ChangeEventRecorder
}

// Context returns the command context.
func (c NewContentFieldCmdMysql) Context() context.Context { return c.ctx }

// AuditContext returns the audit context.
func (c NewContentFieldCmdMysql) AuditContext() audited.AuditContext { return c.auditCtx }

// Connection returns the database connection.
func (c NewContentFieldCmdMysql) Connection() *sql.DB { return c.conn }

// Recorder returns the change event recorder.
func (c NewContentFieldCmdMysql) Recorder() audited.ChangeEventRecorder { return c.recorder }

// TableName returns the table name for this command.
func (c NewContentFieldCmdMysql) TableName() string { return "content_fields" }

// Params returns the parameters for this command.
func (c NewContentFieldCmdMysql) Params() any { return c.params }

// GetID extracts the ID from a contentField record.
func (c NewContentFieldCmdMysql) GetID(u mdbm.ContentFields) string { return string(u.ContentFieldID) }

// Execute creates the contentField in the database.
func (c NewContentFieldCmdMysql) Execute(ctx context.Context, tx audited.DBTX) (mdbm.ContentFields, error) {
	queries := mdbm.New(tx)
	params := mdbm.CreateContentFieldParams{
		ContentFieldID: types.NewContentFieldID(),
		RouteID:        c.params.RouteID,
		ContentDataID:  c.params.ContentDataID,
		FieldID:        c.params.FieldID,
		FieldValue:     c.params.FieldValue,
		AuthorID:       c.params.AuthorID,
		DateCreated:    c.params.DateCreated,
		DateModified:   c.params.DateModified,
	}
	if err := queries.CreateContentField(ctx, params); err != nil {
		return mdbm.ContentFields{}, err
	}
	return queries.GetContentField(ctx, mdbm.GetContentFieldParams{ContentFieldID: params.ContentFieldID})
}

// NewContentFieldCmd creates a command for inserting a contentField.
func (d MysqlDatabase) NewContentFieldCmd(ctx context.Context, auditCtx audited.AuditContext, params CreateContentFieldParams) NewContentFieldCmdMysql {
	return NewContentFieldCmdMysql{ctx: ctx, auditCtx: auditCtx, params: params, conn: d.Connection, recorder: MysqlRecorder}
}

// ----- MySQL UPDATE -----

// UpdateContentFieldCmdMysql is an audited command for updating contentFields in MySQL.
type UpdateContentFieldCmdMysql struct {
	ctx      context.Context
	auditCtx audited.AuditContext
	params   UpdateContentFieldParams
	conn     *sql.DB
	recorder audited.ChangeEventRecorder
}

// Context returns the command context.
func (c UpdateContentFieldCmdMysql) Context() context.Context { return c.ctx }

// AuditContext returns the audit context.
func (c UpdateContentFieldCmdMysql) AuditContext() audited.AuditContext { return c.auditCtx }

// Connection returns the database connection.
func (c UpdateContentFieldCmdMysql) Connection() *sql.DB { return c.conn }

// Recorder returns the change event recorder.
func (c UpdateContentFieldCmdMysql) Recorder() audited.ChangeEventRecorder { return c.recorder }

// TableName returns the table name for this command.
func (c UpdateContentFieldCmdMysql) TableName() string { return "content_fields" }

// Params returns the parameters for this command.
func (c UpdateContentFieldCmdMysql) Params() any { return c.params }

// GetID returns the contentField ID for this command.
func (c UpdateContentFieldCmdMysql) GetID() string { return string(c.params.ContentFieldID) }

// GetBefore retrieves the contentField before the update.
func (c UpdateContentFieldCmdMysql) GetBefore(ctx context.Context, tx audited.DBTX) (mdbm.ContentFields, error) {
	queries := mdbm.New(tx)
	return queries.GetContentField(ctx, mdbm.GetContentFieldParams{ContentFieldID: c.params.ContentFieldID})
}

// Execute updates the contentField in the database.
func (c UpdateContentFieldCmdMysql) Execute(ctx context.Context, tx audited.DBTX) error {
	queries := mdbm.New(tx)
	return queries.UpdateContentField(ctx, mdbm.UpdateContentFieldParams{
		RouteID:        c.params.RouteID,
		ContentDataID:  c.params.ContentDataID,
		FieldID:        c.params.FieldID,
		FieldValue:     c.params.FieldValue,
		AuthorID:       c.params.AuthorID,
		DateCreated:    c.params.DateCreated,
		DateModified:   c.params.DateModified,
		ContentFieldID: c.params.ContentFieldID,
	})
}

// UpdateContentFieldCmd creates a command for updating a contentField.
func (d MysqlDatabase) UpdateContentFieldCmd(ctx context.Context, auditCtx audited.AuditContext, params UpdateContentFieldParams) UpdateContentFieldCmdMysql {
	return UpdateContentFieldCmdMysql{ctx: ctx, auditCtx: auditCtx, params: params, conn: d.Connection, recorder: MysqlRecorder}
}

// ----- MySQL DELETE -----

// DeleteContentFieldCmdMysql is an audited command for deleting contentFields in MySQL.
type DeleteContentFieldCmdMysql struct {
	ctx      context.Context
	auditCtx audited.AuditContext
	id       types.ContentFieldID
	conn     *sql.DB
	recorder audited.ChangeEventRecorder
}

// Context returns the command context.
func (c DeleteContentFieldCmdMysql) Context() context.Context { return c.ctx }

// AuditContext returns the audit context.
func (c DeleteContentFieldCmdMysql) AuditContext() audited.AuditContext { return c.auditCtx }

// Connection returns the database connection.
func (c DeleteContentFieldCmdMysql) Connection() *sql.DB { return c.conn }

// Recorder returns the change event recorder.
func (c DeleteContentFieldCmdMysql) Recorder() audited.ChangeEventRecorder { return c.recorder }

// TableName returns the table name for this command.
func (c DeleteContentFieldCmdMysql) TableName() string { return "content_fields" }

// GetID returns the contentField ID for this command.
func (c DeleteContentFieldCmdMysql) GetID() string { return string(c.id) }

// GetBefore retrieves the contentField before the delete.
func (c DeleteContentFieldCmdMysql) GetBefore(ctx context.Context, tx audited.DBTX) (mdbm.ContentFields, error) {
	queries := mdbm.New(tx)
	return queries.GetContentField(ctx, mdbm.GetContentFieldParams{ContentFieldID: c.id})
}

// Execute deletes the contentField from the database.
func (c DeleteContentFieldCmdMysql) Execute(ctx context.Context, tx audited.DBTX) error {
	queries := mdbm.New(tx)
	return queries.DeleteContentField(ctx, mdbm.DeleteContentFieldParams{ContentFieldID: c.id})
}

// DeleteContentFieldCmd creates a command for deleting a contentField.
func (d MysqlDatabase) DeleteContentFieldCmd(ctx context.Context, auditCtx audited.AuditContext, id types.ContentFieldID) DeleteContentFieldCmdMysql {
	return DeleteContentFieldCmdMysql{ctx: ctx, auditCtx: auditCtx, id: id, conn: d.Connection, recorder: MysqlRecorder}
}

// ----- PostgreSQL CREATE -----

// NewContentFieldCmdPsql is an audited command for creating contentFields in PostgreSQL.
type NewContentFieldCmdPsql struct {
	ctx      context.Context
	auditCtx audited.AuditContext
	params   CreateContentFieldParams
	conn     *sql.DB
	recorder audited.ChangeEventRecorder
}

// Context returns the command context.
func (c NewContentFieldCmdPsql) Context() context.Context { return c.ctx }

// AuditContext returns the audit context.
func (c NewContentFieldCmdPsql) AuditContext() audited.AuditContext { return c.auditCtx }

// Connection returns the database connection.
func (c NewContentFieldCmdPsql) Connection() *sql.DB { return c.conn }

// Recorder returns the change event recorder.
func (c NewContentFieldCmdPsql) Recorder() audited.ChangeEventRecorder { return c.recorder }

// TableName returns the table name for this command.
func (c NewContentFieldCmdPsql) TableName() string { return "content_fields" }

// Params returns the parameters for this command.
func (c NewContentFieldCmdPsql) Params() any { return c.params }

// GetID extracts the ID from a contentField record.
func (c NewContentFieldCmdPsql) GetID(u mdbp.ContentFields) string { return string(u.ContentFieldID) }

// Execute creates the contentField in the database.
func (c NewContentFieldCmdPsql) Execute(ctx context.Context, tx audited.DBTX) (mdbp.ContentFields, error) {
	queries := mdbp.New(tx)
	return queries.CreateContentField(ctx, mdbp.CreateContentFieldParams{
		ContentFieldID: types.NewContentFieldID(),
		RouteID:        c.params.RouteID,
		ContentDataID:  c.params.ContentDataID,
		FieldID:        c.params.FieldID,
		FieldValue:     c.params.FieldValue,
		AuthorID:       c.params.AuthorID,
		DateCreated:    c.params.DateCreated,
		DateModified:   c.params.DateModified,
	})
}

// NewContentFieldCmd creates a command for inserting a contentField.
func (d PsqlDatabase) NewContentFieldCmd(ctx context.Context, auditCtx audited.AuditContext, params CreateContentFieldParams) NewContentFieldCmdPsql {
	return NewContentFieldCmdPsql{ctx: ctx, auditCtx: auditCtx, params: params, conn: d.Connection, recorder: PsqlRecorder}
}

// ----- PostgreSQL UPDATE -----

// UpdateContentFieldCmdPsql is an audited command for updating contentFields in PostgreSQL.
type UpdateContentFieldCmdPsql struct {
	ctx      context.Context
	auditCtx audited.AuditContext
	params   UpdateContentFieldParams
	conn     *sql.DB
	recorder audited.ChangeEventRecorder
}

// Context returns the command context.
func (c UpdateContentFieldCmdPsql) Context() context.Context { return c.ctx }

// AuditContext returns the audit context.
func (c UpdateContentFieldCmdPsql) AuditContext() audited.AuditContext { return c.auditCtx }

// Connection returns the database connection.
func (c UpdateContentFieldCmdPsql) Connection() *sql.DB { return c.conn }

// Recorder returns the change event recorder.
func (c UpdateContentFieldCmdPsql) Recorder() audited.ChangeEventRecorder { return c.recorder }

// TableName returns the table name for this command.
func (c UpdateContentFieldCmdPsql) TableName() string { return "content_fields" }

// Params returns the parameters for this command.
func (c UpdateContentFieldCmdPsql) Params() any { return c.params }

// GetID returns the contentField ID for this command.
func (c UpdateContentFieldCmdPsql) GetID() string { return string(c.params.ContentFieldID) }

// GetBefore retrieves the contentField before the update.
func (c UpdateContentFieldCmdPsql) GetBefore(ctx context.Context, tx audited.DBTX) (mdbp.ContentFields, error) {
	queries := mdbp.New(tx)
	return queries.GetContentField(ctx, mdbp.GetContentFieldParams{ContentFieldID: c.params.ContentFieldID})
}

// Execute updates the contentField in the database.
func (c UpdateContentFieldCmdPsql) Execute(ctx context.Context, tx audited.DBTX) error {
	queries := mdbp.New(tx)
	return queries.UpdateContentField(ctx, mdbp.UpdateContentFieldParams{
		RouteID:        c.params.RouteID,
		ContentDataID:  c.params.ContentDataID,
		FieldID:        c.params.FieldID,
		FieldValue:     c.params.FieldValue,
		AuthorID:       c.params.AuthorID,
		DateCreated:    c.params.DateCreated,
		DateModified:   c.params.DateModified,
		ContentFieldID: c.params.ContentFieldID,
	})
}

// UpdateContentFieldCmd creates a command for updating a contentField.
func (d PsqlDatabase) UpdateContentFieldCmd(ctx context.Context, auditCtx audited.AuditContext, params UpdateContentFieldParams) UpdateContentFieldCmdPsql {
	return UpdateContentFieldCmdPsql{ctx: ctx, auditCtx: auditCtx, params: params, conn: d.Connection, recorder: PsqlRecorder}
}

// ----- PostgreSQL DELETE -----

// DeleteContentFieldCmdPsql is an audited command for deleting contentFields in PostgreSQL.
type DeleteContentFieldCmdPsql struct {
	ctx      context.Context
	auditCtx audited.AuditContext
	id       types.ContentFieldID
	conn     *sql.DB
	recorder audited.ChangeEventRecorder
}

// Context returns the command context.
func (c DeleteContentFieldCmdPsql) Context() context.Context { return c.ctx }

// AuditContext returns the audit context.
func (c DeleteContentFieldCmdPsql) AuditContext() audited.AuditContext { return c.auditCtx }

// Connection returns the database connection.
func (c DeleteContentFieldCmdPsql) Connection() *sql.DB { return c.conn }

// Recorder returns the change event recorder.
func (c DeleteContentFieldCmdPsql) Recorder() audited.ChangeEventRecorder { return c.recorder }

// TableName returns the table name for this command.
func (c DeleteContentFieldCmdPsql) TableName() string { return "content_fields" }

// GetID returns the contentField ID for this command.
func (c DeleteContentFieldCmdPsql) GetID() string { return string(c.id) }

// GetBefore retrieves the contentField before the delete.
func (c DeleteContentFieldCmdPsql) GetBefore(ctx context.Context, tx audited.DBTX) (mdbp.ContentFields, error) {
	queries := mdbp.New(tx)
	return queries.GetContentField(ctx, mdbp.GetContentFieldParams{ContentFieldID: c.id})
}

// Execute deletes the contentField from the database.
func (c DeleteContentFieldCmdPsql) Execute(ctx context.Context, tx audited.DBTX) error {
	queries := mdbp.New(tx)
	return queries.DeleteContentField(ctx, mdbp.DeleteContentFieldParams{ContentFieldID: c.id})
}

// DeleteContentFieldCmd creates a command for deleting a contentField.
func (d PsqlDatabase) DeleteContentFieldCmd(ctx context.Context, auditCtx audited.AuditContext, id types.ContentFieldID) DeleteContentFieldCmdPsql {
	return DeleteContentFieldCmdPsql{ctx: ctx, auditCtx: auditCtx, id: id, conn: d.Connection, recorder: PsqlRecorder}
}
