// Code generated by tools/dbgen; DO NOT EDIT.
package db

import (
	"fmt"

	mdbm "github.com/hegner123/modulacms/internal/db-mysql"
	mdbp "github.com/hegner123/modulacms/internal/db-psql"
	mdb "github.com/hegner123/modulacms/internal/db-sqlite"
	"github.com/hegner123/modulacms/internal/db/types"
)

///////////////////////////////
// STRUCTS
//////////////////////////////

// DatatypeFields represents a datatypeField record in the database.
type DatatypeFields struct {
	ID         string           `json:"id"`
	DatatypeID types.DatatypeID `json:"datatype_id"`
	FieldID    types.FieldID    `json:"field_id"`
	SortOrder  int64            `json:"sort_order"`
}

// CreateDatatypeFieldParams contains parameters for creating a new datatypeField.
type CreateDatatypeFieldParams struct {
	ID         string           `json:"id"`
	DatatypeID types.DatatypeID `json:"datatype_id"`
	FieldID    types.FieldID    `json:"field_id"`
	SortOrder  int64            `json:"sort_order"`
}

// UpdateDatatypeFieldParams contains parameters for updating an existing datatypeField.
type UpdateDatatypeFieldParams struct {
	DatatypeID types.DatatypeID `json:"datatype_id"`
	FieldID    types.FieldID    `json:"field_id"`
	SortOrder  int64            `json:"sort_order"`
	ID         string           `json:"id"`
}

// ListDatatypeFieldByDatatypeIDPaginatedParams holds parameters for a filtered paginated query.
type ListDatatypeFieldByDatatypeIDPaginatedParams struct {
	DatatypeID types.DatatypeID
	Limit      int64
	Offset     int64
}

// ListDatatypeFieldByFieldIDPaginatedParams holds parameters for a filtered paginated query.
type ListDatatypeFieldByFieldIDPaginatedParams struct {
	FieldID types.FieldID
	Limit   int64
	Offset  int64
}

// MapStringDatatypeField converts DatatypeFields to StringDatatypeFields for TUI display.
func MapStringDatatypeField(a DatatypeFields) StringDatatypeFields {
	return StringDatatypeFields{
		ID:         a.ID,
		DatatypeID: a.DatatypeID.String(),
		FieldID:    a.FieldID.String(),
		SortOrder:  fmt.Sprintf("%d", a.SortOrder),
	}
}

///////////////////////////////
// SQLITE
//////////////////////////////

// QUERIES

// CountDatatypeFields returns the total number of datatypeFields in the database.
func (d Database) CountDatatypeFields() (*int64, error) {
	queries := mdb.New(d.Connection)
	c, err := queries.CountDatatypeField(d.Context)
	if err != nil {
		return nil, fmt.Errorf("%v", err)
	}
	return &c, nil
}

// CreateDatatypeFieldTable creates the datatypes_fields table in the database.
func (d Database) CreateDatatypeFieldTable() error {
	queries := mdb.New(d.Connection)
	err := queries.CreateDatatypesFieldsTable(d.Context)
	return err
}

// ListDatatypeFields retrieves all datatypeFields in the database.
func (d Database) ListDatatypeFields() (*[]DatatypeFields, error) {
	queries := mdb.New(d.Connection)
	rows, err := queries.ListDatatypeField(d.Context)
	if err != nil {
		return nil, fmt.Errorf("failed to get DatatypeFields: %v\n", err)
	}
	res := []DatatypeFields{}
	for _, v := range rows {
		m := d.MapDatatypeField(v)
		res = append(res, m)
	}
	return &res, nil
}

// ListDatatypeFieldByDatatypeID retrieves datatypeFields by datatypeID.
func (d Database) ListDatatypeFieldByDatatypeID(datatypeID types.DatatypeID) (*[]DatatypeFields, error) {
	queries := mdb.New(d.Connection)
	rows, err := queries.ListDatatypeFieldByDatatypeID(d.Context, mdb.ListDatatypeFieldByDatatypeIDParams{DatatypeID: datatypeID})
	if err != nil {
		return nil, fmt.Errorf("failed to get DatatypeFields by datatypeID: %v\n", err)
	}
	res := []DatatypeFields{}
	for _, v := range rows {
		m := d.MapDatatypeField(v)
		res = append(res, m)
	}
	return &res, nil
}

// ListDatatypeFieldByFieldID retrieves datatypeFields by fieldID.
func (d Database) ListDatatypeFieldByFieldID(fieldID types.FieldID) (*[]DatatypeFields, error) {
	queries := mdb.New(d.Connection)
	rows, err := queries.ListDatatypeFieldByFieldID(d.Context, mdb.ListDatatypeFieldByFieldIDParams{FieldID: fieldID})
	if err != nil {
		return nil, fmt.Errorf("failed to get DatatypeFields by fieldID: %v\n", err)
	}
	res := []DatatypeFields{}
	for _, v := range rows {
		m := d.MapDatatypeField(v)
		res = append(res, m)
	}
	return &res, nil
}

// ListDatatypeFieldByDatatypeIDPaginated retrieves a paginated list of datatypeFields filtered by DatatypeID.
func (d Database) ListDatatypeFieldByDatatypeIDPaginated(params ListDatatypeFieldByDatatypeIDPaginatedParams) (*[]DatatypeFields, error) {
	queries := mdb.New(d.Connection)
	rows, err := queries.ListDatatypeFieldByDatatypeIDPaginated(d.Context, mdb.ListDatatypeFieldByDatatypeIDPaginatedParams{
		DatatypeID: params.DatatypeID,
		Limit:      params.Limit,
		Offset:     params.Offset,
	})
	if err != nil {
		return nil, fmt.Errorf("failed to get DatatypeFields paginated: %v", err)
	}
	res := []DatatypeFields{}
	for _, v := range rows {
		m := d.MapDatatypeField(v)
		res = append(res, m)
	}
	return &res, nil
}

// ListDatatypeFieldByFieldIDPaginated retrieves a paginated list of datatypeFields filtered by FieldID.
func (d Database) ListDatatypeFieldByFieldIDPaginated(params ListDatatypeFieldByFieldIDPaginatedParams) (*[]DatatypeFields, error) {
	queries := mdb.New(d.Connection)
	rows, err := queries.ListDatatypeFieldByFieldIDPaginated(d.Context, mdb.ListDatatypeFieldByFieldIDPaginatedParams{
		FieldID: params.FieldID,
		Limit:   params.Limit,
		Offset:  params.Offset,
	})
	if err != nil {
		return nil, fmt.Errorf("failed to get DatatypeFields paginated: %v", err)
	}
	res := []DatatypeFields{}
	for _, v := range rows {
		m := d.MapDatatypeField(v)
		res = append(res, m)
	}
	return &res, nil
}

///////////////////////////////
// MYSQL
//////////////////////////////

// QUERIES

// CountDatatypeFields returns the total number of datatypeFields in the database.
func (d MysqlDatabase) CountDatatypeFields() (*int64, error) {
	queries := mdbm.New(d.Connection)
	c, err := queries.CountDatatypeField(d.Context)
	if err != nil {
		return nil, fmt.Errorf("%v", err)
	}
	return &c, nil
}

// CreateDatatypeFieldTable creates the datatypes_fields table in the database.
func (d MysqlDatabase) CreateDatatypeFieldTable() error {
	queries := mdbm.New(d.Connection)
	err := queries.CreateDatatypesFieldsTable(d.Context)
	return err
}

// ListDatatypeFields retrieves all datatypeFields in the database.
func (d MysqlDatabase) ListDatatypeFields() (*[]DatatypeFields, error) {
	queries := mdbm.New(d.Connection)
	rows, err := queries.ListDatatypeField(d.Context)
	if err != nil {
		return nil, fmt.Errorf("failed to get DatatypeFields: %v\n", err)
	}
	res := []DatatypeFields{}
	for _, v := range rows {
		m := d.MapDatatypeField(v)
		res = append(res, m)
	}
	return &res, nil
}

// ListDatatypeFieldByDatatypeID retrieves datatypeFields by datatypeID.
func (d MysqlDatabase) ListDatatypeFieldByDatatypeID(datatypeID types.DatatypeID) (*[]DatatypeFields, error) {
	queries := mdbm.New(d.Connection)
	rows, err := queries.ListDatatypeFieldByDatatypeID(d.Context, mdbm.ListDatatypeFieldByDatatypeIDParams{DatatypeID: datatypeID})
	if err != nil {
		return nil, fmt.Errorf("failed to get DatatypeFields by datatypeID: %v\n", err)
	}
	res := []DatatypeFields{}
	for _, v := range rows {
		m := d.MapDatatypeField(v)
		res = append(res, m)
	}
	return &res, nil
}

// ListDatatypeFieldByFieldID retrieves datatypeFields by fieldID.
func (d MysqlDatabase) ListDatatypeFieldByFieldID(fieldID types.FieldID) (*[]DatatypeFields, error) {
	queries := mdbm.New(d.Connection)
	rows, err := queries.ListDatatypeFieldByFieldID(d.Context, mdbm.ListDatatypeFieldByFieldIDParams{FieldID: fieldID})
	if err != nil {
		return nil, fmt.Errorf("failed to get DatatypeFields by fieldID: %v\n", err)
	}
	res := []DatatypeFields{}
	for _, v := range rows {
		m := d.MapDatatypeField(v)
		res = append(res, m)
	}
	return &res, nil
}

// ListDatatypeFieldByDatatypeIDPaginated retrieves a paginated list of datatypeFields filtered by DatatypeID.
func (d MysqlDatabase) ListDatatypeFieldByDatatypeIDPaginated(params ListDatatypeFieldByDatatypeIDPaginatedParams) (*[]DatatypeFields, error) {
	queries := mdbm.New(d.Connection)
	rows, err := queries.ListDatatypeFieldByDatatypeIDPaginated(d.Context, mdbm.ListDatatypeFieldByDatatypeIDPaginatedParams{
		DatatypeID: params.DatatypeID,
		Limit:      int32(params.Limit),
		Offset:     int32(params.Offset),
	})
	if err != nil {
		return nil, fmt.Errorf("failed to get DatatypeFields paginated: %v", err)
	}
	res := []DatatypeFields{}
	for _, v := range rows {
		m := d.MapDatatypeField(v)
		res = append(res, m)
	}
	return &res, nil
}

// ListDatatypeFieldByFieldIDPaginated retrieves a paginated list of datatypeFields filtered by FieldID.
func (d MysqlDatabase) ListDatatypeFieldByFieldIDPaginated(params ListDatatypeFieldByFieldIDPaginatedParams) (*[]DatatypeFields, error) {
	queries := mdbm.New(d.Connection)
	rows, err := queries.ListDatatypeFieldByFieldIDPaginated(d.Context, mdbm.ListDatatypeFieldByFieldIDPaginatedParams{
		FieldID: params.FieldID,
		Limit:   int32(params.Limit),
		Offset:  int32(params.Offset),
	})
	if err != nil {
		return nil, fmt.Errorf("failed to get DatatypeFields paginated: %v", err)
	}
	res := []DatatypeFields{}
	for _, v := range rows {
		m := d.MapDatatypeField(v)
		res = append(res, m)
	}
	return &res, nil
}

///////////////////////////////
// POSTGRES
//////////////////////////////

// QUERIES

// CountDatatypeFields returns the total number of datatypeFields in the database.
func (d PsqlDatabase) CountDatatypeFields() (*int64, error) {
	queries := mdbp.New(d.Connection)
	c, err := queries.CountDatatypeField(d.Context)
	if err != nil {
		return nil, fmt.Errorf("%v", err)
	}
	return &c, nil
}

// CreateDatatypeFieldTable creates the datatypes_fields table in the database.
func (d PsqlDatabase) CreateDatatypeFieldTable() error {
	queries := mdbp.New(d.Connection)
	err := queries.CreateDatatypesFieldsTable(d.Context)
	return err
}

// ListDatatypeFields retrieves all datatypeFields in the database.
func (d PsqlDatabase) ListDatatypeFields() (*[]DatatypeFields, error) {
	queries := mdbp.New(d.Connection)
	rows, err := queries.ListDatatypeField(d.Context)
	if err != nil {
		return nil, fmt.Errorf("failed to get DatatypeFields: %v\n", err)
	}
	res := []DatatypeFields{}
	for _, v := range rows {
		m := d.MapDatatypeField(v)
		res = append(res, m)
	}
	return &res, nil
}

// ListDatatypeFieldByDatatypeID retrieves datatypeFields by datatypeID.
func (d PsqlDatabase) ListDatatypeFieldByDatatypeID(datatypeID types.DatatypeID) (*[]DatatypeFields, error) {
	queries := mdbp.New(d.Connection)
	rows, err := queries.ListDatatypeFieldByDatatypeID(d.Context, mdbp.ListDatatypeFieldByDatatypeIDParams{DatatypeID: datatypeID})
	if err != nil {
		return nil, fmt.Errorf("failed to get DatatypeFields by datatypeID: %v\n", err)
	}
	res := []DatatypeFields{}
	for _, v := range rows {
		m := d.MapDatatypeField(v)
		res = append(res, m)
	}
	return &res, nil
}

// ListDatatypeFieldByFieldID retrieves datatypeFields by fieldID.
func (d PsqlDatabase) ListDatatypeFieldByFieldID(fieldID types.FieldID) (*[]DatatypeFields, error) {
	queries := mdbp.New(d.Connection)
	rows, err := queries.ListDatatypeFieldByFieldID(d.Context, mdbp.ListDatatypeFieldByFieldIDParams{FieldID: fieldID})
	if err != nil {
		return nil, fmt.Errorf("failed to get DatatypeFields by fieldID: %v\n", err)
	}
	res := []DatatypeFields{}
	for _, v := range rows {
		m := d.MapDatatypeField(v)
		res = append(res, m)
	}
	return &res, nil
}

// ListDatatypeFieldByDatatypeIDPaginated retrieves a paginated list of datatypeFields filtered by DatatypeID.
func (d PsqlDatabase) ListDatatypeFieldByDatatypeIDPaginated(params ListDatatypeFieldByDatatypeIDPaginatedParams) (*[]DatatypeFields, error) {
	queries := mdbp.New(d.Connection)
	rows, err := queries.ListDatatypeFieldByDatatypeIDPaginated(d.Context, mdbp.ListDatatypeFieldByDatatypeIDPaginatedParams{
		DatatypeID: params.DatatypeID,
		Limit:      int32(params.Limit),
		Offset:     int32(params.Offset),
	})
	if err != nil {
		return nil, fmt.Errorf("failed to get DatatypeFields paginated: %v", err)
	}
	res := []DatatypeFields{}
	for _, v := range rows {
		m := d.MapDatatypeField(v)
		res = append(res, m)
	}
	return &res, nil
}

// ListDatatypeFieldByFieldIDPaginated retrieves a paginated list of datatypeFields filtered by FieldID.
func (d PsqlDatabase) ListDatatypeFieldByFieldIDPaginated(params ListDatatypeFieldByFieldIDPaginatedParams) (*[]DatatypeFields, error) {
	queries := mdbp.New(d.Connection)
	rows, err := queries.ListDatatypeFieldByFieldIDPaginated(d.Context, mdbp.ListDatatypeFieldByFieldIDPaginatedParams{
		FieldID: params.FieldID,
		Limit:   int32(params.Limit),
		Offset:  int32(params.Offset),
	})
	if err != nil {
		return nil, fmt.Errorf("failed to get DatatypeFields paginated: %v", err)
	}
	res := []DatatypeFields{}
	for _, v := range rows {
		m := d.MapDatatypeField(v)
		res = append(res, m)
	}
	return &res, nil
}
